<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="../css/bootstrap.min.css" rel="stylesheet">
		<link href="../css/impex.css" rel="stylesheet">
		<link href="../css/doc.css" rel="stylesheet">
		<link href="../css/prism.css" rel="stylesheet">
		<title>impex.js</title>
		<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->
	</head>
	<body data-spy="scroll" data-target=".doc-nav">			<nav class="default" onmouseout="moveIndicator()">
		<div class="container">
			<div class="row menu" >
				<div class="logo ">
					<div>
						<a href="../" onmouseover="moveIndicator(this)">
							<!--
							<img src="images/logo.png">--> impex.js
						</a>
					</div>
				</div>
				<div class="hidden-720 " style="float: right;">
					<ul class="items" id="nav-items">
						<li onmouseover="moveIndicator(this)" class="">
							<a href="../guide/">教程</a>
						</li>
						<li onmouseover="moveIndicator(this)" class="">
							<a href="../api/">API</a>
						</li>
						<li onmouseover="moveIndicator(this)" class="actived">
							<a href="../demos/">Demos</a>
						</li>
						<li onmouseover="moveIndicator(this)" class="dropdown">
							<a href="#">社区</a>
							<ul class="dropdown-menu">
							    <li><a target="_new" href="https://github.com/MrSoya/impex/issues">Github</a></li>
							    <li><a target="_new" href="http://www.h5stars.com/t_impex.html">H5stars</a></li>
							</ul>
						</li>
					</ul>
				</div>
				<div class="indicator" id="indicator"></div>
				<button class="navbar-toggle show-720" ontouchstart="toggleMenu(arguments[0])" type="toggler">
					<i class="glyphicon glyphicon-menu-hamburger" type="toggler"></i>
				</button>
			</div>
		</div>
	</nav>

	<div class="show-720 side-nav" id="sideNav">
		<ul class="items">
			<li class="">
				<a href="../guide/">教程</a>
			</li>
			<li class="">
				<a href="../api/">API</a>
			</li>
			<li class="actived">
				<a href="../demos/">Demos</a>
			</li>
			<li>
				<a href="#">社区</a>
				<ul>
				    <li><a target="_new" href="https://github.com/MrSoya/impex/issues">Github</a></li>
				    <li><a target="_new" href="http://www.h5stars.com/t_impex.html">H5stars</a></li>
				</ul>
			</li>
			<li>
				<nav class="doc-nav ">
	<ul class="sideNav ">
				<li>
			<a class="link " 
				href="demos-calc.html">
				计算器			</a>
			<ul class="nav indent ">
							</ul>
		</li>
				<li>
			<a class="link " 
				href="demos-todo.html">
				Todos			</a>
			<ul class="nav indent ">
							</ul>
		</li>
			</ul>
</nav>			</li>
		</ul>
	</div>

	<section class="container">
			<div class="row doc-panel">
				<div class="col-md-1 hidden-xs" ><!-- holder --></div>
				<div class="col-md-8 col-xs-8 content"> 		
					<h1 id="demos-todo">Todos</h1>
					<p>
						<blockquote class='tip'>
							这个demo用到的特性包括列表渲染、事件指令、过滤器、过渡动画等
						</blockquote>
					</p>
					
					<section class="bucket">
						<ul>
							<li class="{{actived=='HTML'?'actived':''}}" ><a href="javascript:;" x-click="active('HTML')">HTML</a></li>
							<li class="{{actived=='CSS'?'actived':''}}" ><a href="javascript:;" x-click="active('CSS')">CSS</a></li>
							<li class="{{actived=='JS'?'actived':''}}" ><a href="javascript:;" x-click="active('JS')">Javascript</a></li>
							<li class="{{actived=='out'?'actived':''}}" ><a href="javascript:;" x-click="active('out')">Output</a></li>
						</ul>
						<div style="clear: both;"></div>
						<pre class="content" x-show="actived=='HTML'">
							<code class="language-markup" x-ignore>
&lt;section class="todos"&gt;
    &lt;header&gt;
        &lt;input x-keydown="addTodo($event)" placeholder="What needs to be done?"&gt;
    &lt;/header&gt;
    &lt;section&gt;
        &lt;ul class="todolist"&gt;
            &lt;li x-each="todos as v =&gt; filterBy:filterType:'type' " 
                transition="todo" 
                class="{{v.type=='completed'?'completed':''}}"
            &gt;
                &lt;input type="checkbox" x-checked="v.type=='completed'" x-click="done($event,v)"&gt;
                {{v.val}} &lt;i x-click="removeTodo(v)" class="close"&gt;&times;&lt;/i&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/section&gt;
    &lt;footer&gt;
        &lt;span&gt;{{activeTodos}} item left&lt;/span&gt;
        &lt;a class="button {{filterType===''?'active':''}}" x-click="filterTodos('')"&gt;All&lt;/a&gt;
        &lt;a class="button {{filterType==='active'?'active':''}}" x-click="filterTodos('active')"&gt;Active&lt;/a&gt;
        &lt;a class="button {{filterType==='completed'?'active':''}}" x-click="filterTodos('completed')"&gt;Completed&lt;/a&gt;
    &lt;/footer&gt;
&lt;/section&gt;
							</code>
						</pre>
						<pre class="content" x-show="actived=='CSS'">
							<code class="language-css">
/* transition start */
.todo-transition {
    transition: all .5s;
    font-size: 1.5rem;
    height: 2rem;
    padding: .5rem 0;
    overflow: hidden;
}

.todo-enter, .todo-leave {
    opacity: 0;
    height: 0;
    padding: 0;
}
/* transition end */

.todos{
    background-color: #fff;
    border: 1px solid #eee;
    width: 400px;
    padding: .5rem;
    margin: 0 auto;
    font-family: arial;
}
.todos header input{
    border: none;
    width: 100%;
    font-size: 1.5rem;
    border-bottom:1px solid #eee; 
}
.todos header input:focus{
    outline: none;
}
.todos .todolist{
    list-style: none;
    padding: 0;
    margin: 0;
}
.todos .todolist li{
    border-bottom:1px solid #eee; 
}
.todos .todolist li.completed{
    text-decoration: line-through;
    color: #aaa;
}
.todos .todolist li .close{
    float: right;
    cursor: default;
}
.todos .todolist li .close:hover{
    color: red;
}
.todos footer{
    padding-top: 1rem;
    text-align: center;
}
.todos footer span{
    float: left;
}
.todos .button{
    border: 1px solid transparent;
    padding: .2rem;
    cursor: default;
}
.todos .active{
    border: 1px solid #aaa;
}
							</code>
						</pre>
						<pre class="content" x-show="actived=='JS'">
							<code class="language-javascript">//指令
impex.directive('keydown',{
    onCreate:function(){
        this.on('keydown',this.$value);
    }
});
impex.directive('checked',{
    observe:function(rs){
        this.$view.el.checked = rs;
    }
});

//渲染
impex.render(document.body,{
    todos:[],
    filterType:'',
    activeTodos:0,
    onInit:function(){
        this.watch('todos',function(type,newVal){
            this.activeTodos = newVal.filter(function(todo){
                return todo.type === 'active';
            }).length;
        })
    },
    addTodo:function(e){
        var t = e.target;
        if(e.keyCode === 13 && t.value.trim()){

            this.todos.push({id:Math.random()+'',val:t.value,type:'active'});
            t.value = '';
        }
    },
    removeTodo:function(todo){
        var oTodo = todo.$origin;
        var i = this.todos.indexOf(oTodo);
        if(i > -1)
        this.todos.splice(i,1);
    },
    done:function(e,todo){
        var type = 'active';
        if(e.target.checked){
            type = 'completed';
        }

        todo.type = type;
        todo.$origin.type = type;

        this.activeTodos = this.todos.filter(function(td){
            return td.type === 'active';
        }).length;
    },
    filterTodos:function(type){
        this.filterType = type;
    }
});
							</code>
						</pre>
						<div name="todo" class=" content" x-show="actived=='out'">
							<style type="text/css">
.todo-transition {
    transition: all .5s;
    font-size: 1.5rem;
    height: 3rem;
    padding: .5rem 0;
    overflow: hidden;
}

.todo-enter, .todo-leave {
    opacity: 0;
    height: 0;
    padding: 0;
}

.todos{
    background-color: #fff;
    border: 1px solid #eee;
    width: 400px;
    padding: .5rem;
    margin: 3rem auto;
    font-family: arial;
}
@media (max-width: 400px){
    .todos{
        width: 100%;
    }
}
.todos header input{
    border: none;
    width: 100%;
    font-size: 1.5rem;
    border-bottom:1px solid #eee; 
}
.todos header input:focus{
    outline: none;
}
.todos .todolist{
    list-style: none;
    padding: 0;
    margin: 0;
}
.todos .todolist li{
    float:none;
    font-size: 1.5rem;
    border-bottom:1px solid #eee; 
}
.todos .todolist li.completed{
    text-decoration: line-through;
    color: #aaa;
}
.todos .todolist li .close{
    float: right;
    cursor: default;
}
.todos .todolist li .close:hover{
    color: red;
}
.todos footer{
    padding-top: 1rem;
    text-align: center;
    margin: 0;
}
.todos footer span{
    float: left;
}
.todos .button{
    border: 1px solid transparent;
    padding: .2rem;
    cursor: default;
}
.todos .active{
    border: 1px solid #aaa;
}
							</style>
							{{# output}}
						</div>
					</section>
					

				
							<footer>
	</footer>
<p>
	希望以上内容对你有所帮助，如果发现错误或者想参与编辑，可以在 <a href="https://github.com/MrSoya/impex/tree/gh-pages">Github 上 fork 此站点</a>
</p>				</div>
				<div class="col-md-3 col-xs-4 hidden-720" >
					<nav class="doc-nav ">
	<ul class="sideNav ">
				<li>
			<a class="link " 
				href="demos-calc.html">
				计算器			</a>
			<ul class="nav indent ">
							</ul>
		</li>
				<li>
			<a class="link " 
				href="demos-todo.html">
				Todos			</a>
			<ul class="nav indent ">
							</ul>
		</li>
			</ul>
</nav>				</div>
			</div>
		</section>
		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
		<script src="../js/jquery-1.11.3.min.js"></script>
		<script src="../js/jquery.mousewheel.min.js"></script>
		<!-- Include all compiled plugins (below), or include individual files as needed -->
		<script src="../js/bootstrap.min.js"></script>
		<script src="../js/prism.js"></script>
		<script src="../js/impex.all.js"></script>
		<script src="../js/impex.ext.directives.js"></script>
		<script src="../js/impex.js"></script>
		<script src="../js/guide.js"></script>
		<script src="../js/demos.js"></script>
		<script type="text/javascript">
			if(document.getElementById('entry'))
			var debug = impex.render(document.getElementById('entry'),{
				name:'impex'
			});
			if(document.getElementById('version'))
			document.getElementById('version').innerHTML = impex.version.toString();

			if($('.bucket')[0]){
				window.demos = impex.render($('.bucket')[0],{
					actived:'out',
					output:'',
					active:function(type){
						this.actived = type;
					}
				});
			}
			

			window.onload = function(){
				var affix = $('section .doc-nav .sideNav');
				affix.bind('mousewheel', function(event) {
					event.preventDefault();
					var scrollTop = this.scrollTop;
					this.scrollTop = (scrollTop + ((event.deltaY * event.deltaFactor) * -1));
				});

				//doc-panel
				$('.doc-panel .doc-nav>ul').affix({
					offset: {
						top: 0
					}
				});
			}
			
		</script>
	</body>
</html>

