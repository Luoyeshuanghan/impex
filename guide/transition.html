<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="../css/bootstrap.min.css" rel="stylesheet">
		<link href="../css/impex.css" rel="stylesheet">
		<link href="../css/doc.css" rel="stylesheet">
		<link href="../css/prism.css" rel="stylesheet">
		<title>impex.js</title>
		<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->
	</head>
	<body data-spy="scroll" data-target=".doc-nav">			<nav class="default" onmouseout="moveIndicator()">
		<div class="container">
			<div class="row menu" >
				<div class="logo ">
					<div>
						<a href="../" onmouseover="moveIndicator(this)">
							<!--
							<img src="images/logo.png">--> impex.js
						</a>
					</div>
				</div>
				<div class="hidden-720 " style="float: right;">
					<ul class="items" id="nav-items">
						<li onmouseover="moveIndicator(this)" class="actived">
							<a href="../guide/">教程</a>
						</li>
						<li onmouseover="moveIndicator(this)" class="">
							<a href="../api/">API</a>
						</li>
						<li onmouseover="moveIndicator(this)" class="">
							<a href="../demos/">Demos</a>
						</li>
						<li onmouseover="moveIndicator(this)" class="dropdown">
							<a href="#">社区</a>
							<ul class="dropdown-menu">
							    <li><a target="_new" href="https://github.com/MrSoya/impex/issues">Github</a></li>
							    <li><a target="_new" href="http://www.h5stars.com/t_impex.html">H5stars</a></li>
							</ul>
						</li>
					</ul>
				</div>
				<div class="indicator" id="indicator"></div>
				<button class="navbar-toggle show-720" ontouchstart="toggleMenu(arguments[0])" type="toggler">
					<i class="glyphicon glyphicon-menu-hamburger" type="toggler"></i>
				</button>
			</div>
		</div>
	</nav>

	<div class="show-720 side-nav" id="sideNav">
		<ul class="items">
			<li class="actived">
				<a href="../guide/">教程</a>
			</li>
			<li class="">
				<a href="../api/">API</a>
			</li>
			<li class="">
				<a href="../demos/">Demos</a>
			</li>
			<li>
				<a href="#">社区</a>
				<ul>
				    <li><a target="_new" href="https://github.com/MrSoya/impex/issues">Github</a></li>
				    <li><a target="_new" href="http://www.h5stars.com/t_impex.html">H5stars</a></li>
				</ul>
			</li>
			<li>
				<nav class="doc-nav ">
	<ul class="sideNav ">
				<li>
			<a class="link " 
				href="overview.html">
				概述			</a>
			<ul class="nav indent ">
								<li>
					<a href="#components">组件系统</a>
									</li>
								<li>
					<a href="#atemplatelib">一个模版库？</a>
									</li>
								<li>
					<a href="#databinding">数据绑定</a>
									</li>
							</ul>
		</li>
				<li>
			<a class="link " 
				href="prepare.html">
				准备			</a>
			<ul class="nav indent ">
								<li>
					<a href="#prepare-install">安装</a>
									</li>
								<li>
					<a href="#prepare-rebuild">重构</a>
									</li>
								<li>
					<a href="#prepare-syntax">格式约定</a>
									</li>
								<li>
					<a href="#prepare-debug">调试</a>
									</li>
							</ul>
		</li>
				<li>
			<a class="link " 
				href="gettingstarted.html">
				开始			</a>
			<ul class="nav indent ">
								<li>
					<a href="#helloImpex">Hello Impex</a>
									</li>
								<li>
					<a href="#binding">双向绑定</a>
									</li>
								<li>
					<a href="#interactive">交互</a>
									</li>
							</ul>
		</li>
				<li>
			<a class="link " 
				href="syntax.html">
				语法			</a>
			<ul class="nav indent ">
								<li>
					<a href="#syntax-exp">表达式</a>
										<ul class="nav indent">
												<li>
							<a href="#syntax-exp-text">文本</a>
						</li>
												<li>
							<a href="#syntax-exp-html">HTML</a>
						</li>
												<li>
							<a href="#syntax-exp-tmpl">模版</a>
						</li>
											</ul>
									</li>
								<li>
					<a href="#syntax-d">指令</a>
										<ul class="nav indent">
												<li>
							<a href="#syntax-d-each">each</a>
						</li>
												<li>
							<a href="#syntax-d-event">事件</a>
						</li>
											</ul>
									</li>
								<li>
					<a href="#syntax-c">过滤器</a>
										<ul class="nav indent">
												<li>
							<a href="#syntax-c-chain">链式过滤</a>
						</li>
												<li>
							<a href="#syntax-c-each">each过滤</a>
						</li>
											</ul>
									</li>
							</ul>
		</li>
				<li>
			<a class="link " 
				href="conditions.html">
				条件渲染			</a>
			<ul class="nav indent ">
								<li>
					<a href="#conditions-if">x-if</a>
									</li>
								<li>
					<a href="#conditions-show">x-show</a>
									</li>
								<li>
					<a href="#conditions-iforshow">x-if 还是 x-show</a>
									</li>
								<li>
					<a href="#conditions-group">条件组</a>
										<ul class="nav indent">
												<li>
							<a href="#conditions-group-each">x-if-start</a>
						</li>
												<li>
							<a href="#conditions-group-show">x-show-start</a>
						</li>
											</ul>
									</li>
							</ul>
		</li>
				<li>
			<a class="link " 
				href="each.html">
				列表渲染			</a>
			<ul class="nav indent ">
								<li>
					<a href="#each-each">x-each</a>
									</li>
								<li>
					<a href="#each-each-start">x-each-start</a>
									</li>
								<li>
					<a href="#each-object">对象</a>
									</li>
								<li>
					<a href="#each-const">常量</a>
									</li>
								<li>
					<a href="#each-perform">性能</a>
									</li>
							</ul>
		</li>
				<li>
			<a class="link " 
				href="form.html">
				表单			</a>
			<ul class="nav indent ">
								<li>
					<a href="#form-text">text</a>
									</li>
								<li>
					<a href="#form-checkbox">checkbox</a>
									</li>
								<li>
					<a href="#form-radio">radio</a>
									</li>
								<li>
					<a href="#form-select">select</a>
									</li>
								<li>
					<a href="#form-textarea">textarea</a>
									</li>
								<li>
					<a href="#form-attr">特性</a>
										<ul class="nav indent">
												<li>
							<a href="#form-attr-number">number</a>
						</li>
												<li>
							<a href="#form-attr-debounce">debounce</a>
						</li>
											</ul>
									</li>
							</ul>
		</li>
				<li>
			<a class="link " 
				href="component.html">
				组件			</a>
			<ul class="nav indent ">
								<li>
					<a href="#component-use">使用</a>
										<ul class="nav indent">
												<li>
							<a href="#component-use-register">注册</a>
						</li>
												<li>
							<a href="#component-use-restrict">约束</a>
						</li>
												<li>
							<a href="#component-use-exp">模板表达式</a>
						</li>
											</ul>
									</li>
								<li>
					<a href="#component-props">属性</a>
										<ul class="nav indent">
												<li>
							<a href="#component-props-auto">自动绑定</a>
						</li>
												<li>
							<a href="#component-props-bindprops">BINDPROPS</a>
						</li>
												<li>
							<a href="#component-props-model">模型属性</a>
						</li>
											</ul>
									</li>
								<li>
					<a href="#component-scope">作用域</a>
										<ul class="nav indent">
												<li>
							<a href="#component-scope-tree">组件树</a>
						</li>
												<li>
							<a href="#component-scope-comm">组件通信</a>
						</li>
											</ul>
									</li>
							</ul>
		</li>
				<li>
			<a class="link " 
				href="directive.html">
				指令			</a>
			<ul class="nav indent ">
								<li>
					<a href="#directive-use">基础</a>
										<ul class="nav indent">
												<li>
							<a href="#directive-use-register">注册</a>
						</li>
												<li>
							<a href="#directive-use-features">特性</a>
						</li>
											</ul>
									</li>
								<li>
					<a href="#directive-adv">进阶</a>
										<ul class="nav indent">
												<li>
							<a href="#directive-adv-params">参数</a>
						</li>
												<li>
							<a href="#directive-adv-observe">监控回调</a>
						</li>
												<li>
							<a href="#directive-adv-inlineExp">内嵌表达式</a>
						</li>
											</ul>
									</li>
							</ul>
		</li>
				<li>
			<a class="link " 
				href="filter.html">
				过滤器			</a>
			<ul class="nav indent ">
								<li>
					<a href="#filter-register">注册</a>
									</li>
								<li>
					<a href="#filter-params">参数和过滤链</a>
									</li>
							</ul>
		</li>
				<li>
			<a class="link " 
				href="service.html">
				服务			</a>
			<ul class="nav indent ">
								<li>
					<a href="#service-register">注册</a>
									</li>
								<li>
					<a href="#service-inject">注入</a>
									</li>
								<li>
					<a href="#service-mode">模式</a>
									</li>
							</ul>
		</li>
				<li>
			<a class="link actived" 
				href="transition.html">
				过渡			</a>
			<ul class="nav indent actived">
								<li>
					<a href="#transition-why">为什么</a>
									</li>
								<li>
					<a href="#transition-limit">限制</a>
									</li>
								<li>
					<a href="#transition-css">CSS过渡</a>
										<ul class="nav indent">
												<li>
							<a href="#transition-css-class">样式组</a>
						</li>
											</ul>
									</li>
								<li>
					<a href="#transition-hook">过渡钩子</a>
									</li>
								<li>
					<a href="#transition-js">Javascript过渡</a>
									</li>
							</ul>
		</li>
			</ul>
</nav>			</li>
		</ul>
	</div>

	<section class="container">
			<div class="row doc-panel">
				<div class="col-md-1 hidden-xs" ><!-- holder --></div>
				<div class="col-md-8 col-xs-8 content"> 		
					<h1 id="transition">过渡</h1>
					<p>
						过渡可以让应用看起来具有更好的视觉效果，尤其实在视图动态切换时
					</p>
					<h2 id="transition-why">
						为什么
					</h2>
					<p>
						无论使用CSS3或者javascript，都可以直接给元素指定动画，
						那么为什么还会出现这章内容？的确，大部分元素都可以直接指定动画，
						但别忘了 impex.js 是基于数据绑定的自动视图更新机制。
						这种机制允许你使用 if/show/each 等视图控制指令，并即时的更新视图，
						但是问题在于，当自动更新发生时，DOM操作是不受外部控制的，
						比如当使用 if 指令时，元素会突然插入和移除，想用CSS控制动画是不可能的，
						这就是为什么需要过渡接口
					</p>


					<h2 id="transition-limit">
						限制
					</h2>
					<p>
						正如上文所说，过渡的使用被限制在有限的(内置)指令中，比如 if/show/each，
						使用过渡必须在这些指令所在的元素上。
					</p>
					<blockquote class="tip">
						if/show/each这些只是内置指令，依然可以通过<code>Transitions</code>服务来让
						自定义指令拥有过渡能力
					</blockquote>


					<h2 id="transition-css">
						CSS过渡
					</h2>
					<pre><code class="language-css">/*过渡样式*/
.impex-transition {
    transition: all .3s;
    font-size:2rem;
}

.impex-enter, .impex-leave {
    font-size:1rem;
    opacity: 0;
}
</code></pre>
<pre><code class="language-markup"><!-- 声明过渡 -->
&lt;div x-show="show" transition="impex" &gt;impex here&lt;/div&gt;
</code></pre>
					<div class="output">
						<div id="transition-1">
							<style type="text/css">
								.impex-transition {
    transition: all .3s;
    font-size:2rem;
    height: 2.5rem;
    overflow: hidden;
}

.impex-enter, .impex-leave {
    font-size:1rem;
    opacity: 0;
    height: 0;
}
							</style>
							<p>
								<div x-show="show" transition="impex" >impex here</div>
							</p>
							<label>
			                    显示 <input type="radio" name="transition1" checked="" x-model="show" value="impex">
			                </label> 
			                <label>
			                    隐藏 <input type="radio" name="transition1" x-model="show" value="">
			                </label> 
						</div>
					</div>
					<p>
						基于CSS的过渡很简单，只需要声明一个<code>transition</code>特性即可，
						该特性的值用来指定过渡使用哪<b>一组</b>样式。注意是“一组”样式
					</p>


					<h3 id="transition-css-class">
						样式组
					</h3>
					<p>
						使用CSS定义过渡必须定义一组符合规范的样式，包括
						<ul>
							<li>
								<code>.*-transition</code>用于定义过渡元素的基础样式
							</li>
							<li>
								<code>.*-enter</code>用于定义过渡元素进入的动画效果
							</li>
							<li>
								<code>.*-leave</code>用于定义过渡元素离开的动画效果
							</li>
						</ul>
					</p>
					<p>
						impex 会在合适的时候调用自动赋予元素对应的样式。
					</p>


					<h2 id="transition-hook">
						过渡钩子
					</h2>
					<p>
						impex提供了全局接口<code>impex.transition()</code>来定义过渡回调，
						回调会分别在过渡的不同周期触发，
					</p>
					
<pre><code class="language-javascript">
impex.transition('impex',{
	enter:function(){
        this.$view.el.innerHTML = 'impex enter';
    },
    leave:function(){
        this.$view.el.innerHTML = 'impex leave';
    }
});
</code></pre>
					<div class="output">
						<div id="transition-2">
							<style type="text/css">
								.impex-transition {
    transition: all .3s;
    font-size:2rem;
    height: 2.5rem;
    overflow: hidden;
}

.impex-enter, .impex-leave {
    font-size:1rem;
    opacity: 0;
    height: 0;
}
							</style>
							<p>
								<div x-show="show" transition="impex" >impex </div>
							</p>
							<label>
			                    显示 <input type="radio" name="transition1" checked="" x-model="show" value="impex">
			                </label> 
			                <label>
			                    隐藏 <input type="radio" name="transition1" x-model="show" value="">
			                </label> 
						</div>
					</div>
					<p>
						在CSS方式过渡下，impex可以获取到动画何时结束，并触发合适的回调。但如果是javascript过渡，
						就必须主动的通知动画完成，这样 impex 才可以继续执行后续操作
					</p>


					<h2 id="transition-js">
						Javascript过渡
					</h2>
					
<pre><code class="language-javascript">
impex.transition('impex',{
	enter:function(done){
        $(this.$view.el).animate({opacity:1,fontSize:'2rem'},500,'swing',done);
    },
    leave:function(done){
        $(this.$view.el).animate({opacity:0,fontSize:'1rem'},500,'swing',done);
    }
});
</code></pre>
					<div class="output">
						<div id="transition-3">
							<p>
								<div x-show="show" transition="impex2" >impex </div>
							</p>
							<label>
			                    显示 <input type="radio" name="transition1" checked="" x-model="show" value="impex">
			                </label> 
			                <label>
			                    隐藏 <input type="radio" name="transition1" x-model="show" value="">
			                </label> 
						</div>
					</div>
					<p>
						javascript过渡方式可以使用在不支持CSS3的场景中
					</p>
					
							<footer>
		<a class="prev" href="service.html">
		<i class="glyphicon glyphicon-menu-left"></i>服务	</a>
	</footer>
<p>
	希望以上内容对你有所帮助，如果发现错误或者想参与编辑，可以在 <a href="https://github.com/MrSoya/impex/tree/gh-pages">Github 上 fork 此站点</a>
</p>				</div>
				<div class="col-md-3 col-xs-4 hidden-720" >
					<nav class="doc-nav ">
	<ul class="sideNav ">
				<li>
			<a class="link " 
				href="overview.html">
				概述			</a>
			<ul class="nav indent ">
								<li>
					<a href="#components">组件系统</a>
									</li>
								<li>
					<a href="#atemplatelib">一个模版库？</a>
									</li>
								<li>
					<a href="#databinding">数据绑定</a>
									</li>
							</ul>
		</li>
				<li>
			<a class="link " 
				href="prepare.html">
				准备			</a>
			<ul class="nav indent ">
								<li>
					<a href="#prepare-install">安装</a>
									</li>
								<li>
					<a href="#prepare-rebuild">重构</a>
									</li>
								<li>
					<a href="#prepare-syntax">格式约定</a>
									</li>
								<li>
					<a href="#prepare-debug">调试</a>
									</li>
							</ul>
		</li>
				<li>
			<a class="link " 
				href="gettingstarted.html">
				开始			</a>
			<ul class="nav indent ">
								<li>
					<a href="#helloImpex">Hello Impex</a>
									</li>
								<li>
					<a href="#binding">双向绑定</a>
									</li>
								<li>
					<a href="#interactive">交互</a>
									</li>
							</ul>
		</li>
				<li>
			<a class="link " 
				href="syntax.html">
				语法			</a>
			<ul class="nav indent ">
								<li>
					<a href="#syntax-exp">表达式</a>
										<ul class="nav indent">
												<li>
							<a href="#syntax-exp-text">文本</a>
						</li>
												<li>
							<a href="#syntax-exp-html">HTML</a>
						</li>
												<li>
							<a href="#syntax-exp-tmpl">模版</a>
						</li>
											</ul>
									</li>
								<li>
					<a href="#syntax-d">指令</a>
										<ul class="nav indent">
												<li>
							<a href="#syntax-d-each">each</a>
						</li>
												<li>
							<a href="#syntax-d-event">事件</a>
						</li>
											</ul>
									</li>
								<li>
					<a href="#syntax-c">过滤器</a>
										<ul class="nav indent">
												<li>
							<a href="#syntax-c-chain">链式过滤</a>
						</li>
												<li>
							<a href="#syntax-c-each">each过滤</a>
						</li>
											</ul>
									</li>
							</ul>
		</li>
				<li>
			<a class="link " 
				href="conditions.html">
				条件渲染			</a>
			<ul class="nav indent ">
								<li>
					<a href="#conditions-if">x-if</a>
									</li>
								<li>
					<a href="#conditions-show">x-show</a>
									</li>
								<li>
					<a href="#conditions-iforshow">x-if 还是 x-show</a>
									</li>
								<li>
					<a href="#conditions-group">条件组</a>
										<ul class="nav indent">
												<li>
							<a href="#conditions-group-each">x-if-start</a>
						</li>
												<li>
							<a href="#conditions-group-show">x-show-start</a>
						</li>
											</ul>
									</li>
							</ul>
		</li>
				<li>
			<a class="link " 
				href="each.html">
				列表渲染			</a>
			<ul class="nav indent ">
								<li>
					<a href="#each-each">x-each</a>
									</li>
								<li>
					<a href="#each-each-start">x-each-start</a>
									</li>
								<li>
					<a href="#each-object">对象</a>
									</li>
								<li>
					<a href="#each-const">常量</a>
									</li>
								<li>
					<a href="#each-perform">性能</a>
									</li>
							</ul>
		</li>
				<li>
			<a class="link " 
				href="form.html">
				表单			</a>
			<ul class="nav indent ">
								<li>
					<a href="#form-text">text</a>
									</li>
								<li>
					<a href="#form-checkbox">checkbox</a>
									</li>
								<li>
					<a href="#form-radio">radio</a>
									</li>
								<li>
					<a href="#form-select">select</a>
									</li>
								<li>
					<a href="#form-textarea">textarea</a>
									</li>
								<li>
					<a href="#form-attr">特性</a>
										<ul class="nav indent">
												<li>
							<a href="#form-attr-number">number</a>
						</li>
												<li>
							<a href="#form-attr-debounce">debounce</a>
						</li>
											</ul>
									</li>
							</ul>
		</li>
				<li>
			<a class="link " 
				href="component.html">
				组件			</a>
			<ul class="nav indent ">
								<li>
					<a href="#component-use">使用</a>
										<ul class="nav indent">
												<li>
							<a href="#component-use-register">注册</a>
						</li>
												<li>
							<a href="#component-use-restrict">约束</a>
						</li>
												<li>
							<a href="#component-use-exp">模板表达式</a>
						</li>
											</ul>
									</li>
								<li>
					<a href="#component-props">属性</a>
										<ul class="nav indent">
												<li>
							<a href="#component-props-auto">自动绑定</a>
						</li>
												<li>
							<a href="#component-props-bindprops">BINDPROPS</a>
						</li>
												<li>
							<a href="#component-props-model">模型属性</a>
						</li>
											</ul>
									</li>
								<li>
					<a href="#component-scope">作用域</a>
										<ul class="nav indent">
												<li>
							<a href="#component-scope-tree">组件树</a>
						</li>
												<li>
							<a href="#component-scope-comm">组件通信</a>
						</li>
											</ul>
									</li>
							</ul>
		</li>
				<li>
			<a class="link " 
				href="directive.html">
				指令			</a>
			<ul class="nav indent ">
								<li>
					<a href="#directive-use">基础</a>
										<ul class="nav indent">
												<li>
							<a href="#directive-use-register">注册</a>
						</li>
												<li>
							<a href="#directive-use-features">特性</a>
						</li>
											</ul>
									</li>
								<li>
					<a href="#directive-adv">进阶</a>
										<ul class="nav indent">
												<li>
							<a href="#directive-adv-params">参数</a>
						</li>
												<li>
							<a href="#directive-adv-observe">监控回调</a>
						</li>
												<li>
							<a href="#directive-adv-inlineExp">内嵌表达式</a>
						</li>
											</ul>
									</li>
							</ul>
		</li>
				<li>
			<a class="link " 
				href="filter.html">
				过滤器			</a>
			<ul class="nav indent ">
								<li>
					<a href="#filter-register">注册</a>
									</li>
								<li>
					<a href="#filter-params">参数和过滤链</a>
									</li>
							</ul>
		</li>
				<li>
			<a class="link " 
				href="service.html">
				服务			</a>
			<ul class="nav indent ">
								<li>
					<a href="#service-register">注册</a>
									</li>
								<li>
					<a href="#service-inject">注入</a>
									</li>
								<li>
					<a href="#service-mode">模式</a>
									</li>
							</ul>
		</li>
				<li>
			<a class="link actived" 
				href="transition.html">
				过渡			</a>
			<ul class="nav indent actived">
								<li>
					<a href="#transition-why">为什么</a>
									</li>
								<li>
					<a href="#transition-limit">限制</a>
									</li>
								<li>
					<a href="#transition-css">CSS过渡</a>
										<ul class="nav indent">
												<li>
							<a href="#transition-css-class">样式组</a>
						</li>
											</ul>
									</li>
								<li>
					<a href="#transition-hook">过渡钩子</a>
									</li>
								<li>
					<a href="#transition-js">Javascript过渡</a>
									</li>
							</ul>
		</li>
			</ul>
</nav>				</div>
			</div>
		</section>
		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
		<script src="../js/jquery-1.11.3.min.js"></script>
		<script src="../js/jquery.mousewheel.min.js"></script>
		<!-- Include all compiled plugins (below), or include individual files as needed -->
		<script src="../js/bootstrap.min.js"></script>
		<script src="../js/prism.js"></script>
		<script src="../js/impex.all.js"></script>
		<script src="../js/impex.ext.directives.js"></script>
		<script src="../js/impex.js"></script>
		<script src="../js/guide.js"></script>
		<script src="../js/demos.js"></script>
		<script type="text/javascript">
			if(document.getElementById('entry'))
			var debug = impex.render(document.getElementById('entry'),{
				name:'impex'
			});
			if(document.getElementById('version'))
			document.getElementById('version').innerHTML = impex.version.toString();

			if($('.bucket')[0]){
				window.demos = impex.render($('.bucket')[0],{
					actived:'out',
					output:'',
					active:function(type){
						this.actived = type;
					}
				});
			}
			

			window.onload = function(){
				var affix = $('section .doc-nav .sideNav');
				affix.bind('mousewheel', function(event) {
					event.preventDefault();
					var scrollTop = this.scrollTop;
					this.scrollTop = (scrollTop + ((event.deltaY * event.deltaFactor) * -1));
				});

				//doc-panel
				$('.doc-panel .doc-nav>ul').affix({
					offset: {
						top: 0
					}
				});
			}
			
		</script>
	</body>
</html>

