<!DOCTYPE html>
<html >
    <head>
        <title>Impex Demo</title>
        <meta http-equiv="content-type" content="text/html;charset=utf-8">
    </head>
    <body >
        <x-a>
            <x-b name="child1">
                <x-c></x-c>
            </x-b>
            <x-b name="child2">
                <x-c></x-c>
            </x-b>
        </x-a>
        <x-b name="bro"></x-b>


        <script type="text/javascript" src="../lib/impex/impex.all.js"></script>
        <script type="text/javascript">
            //自定义组件
            impex.component('x-a',{
                replace:false,
                hi:function(){
                    this.broadcast('hello','hi...boys');
                },
                template:"<div><button :click='hi()'>say hi...</button><br>{{=CONTENT}}</div>"
            });
            impex.component('x-b',{
                data:{
                    msg:""
                },
                events:{
                    hello:function(target,msg){
                        this.data.msg = msg +' from '+target.name;
                        if(this.data.name === 'child1')return true;
                    }
                },
                template:"<div>i'm {{=name}} {{msg}} {{=CONTENT}}</div>"
            });
            impex.component('x-c',{
                data:{
                    msg:""
                },
                hi:function(){
                    this.emit('hello','hug me');
                },
                events:{
                    hello:function(target,msg){
                        this.data.msg = msg +' from '+target.name;
                    }
                },
                template:"<div>&nbsp;&nbsp;i'm grandson {{msg}} <button :click='hi()'>wanted a hug</button></div>"
            });

            //渲染
            impex.render(document.body);
            
        </script>
    </body>
</html>